---
layout: default
---

<head>
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic' rel='stylesheet' type='text/css'>
</head>


<style>
	svg{
		margin-top: -90px;
	}
	h1 {
		font-family: 'Source Sans Pro', sans-serif;		
		text-align: center;
		letter-spacing: 1px;
		}

	h3 {
		margin-top: 5px;
		font-size: 14px;
		font-weight: 400;
	}

	body {
		background-color: #E4E4E6;
		}

	.line-separator {
		height:4px;
		background: #FFFFFF;
		margin-left: 0px;
		margin-right: 0px;
		margin-top: -10px;
		background-image: linear-gradient(to right, #A7A9AB, black);
		}

	#nav {
    	height: 125px;
    	display:block;
		text-align: justify;
    	min-width: 612px;
    	margin:0 auto;
    	float: left;
		}

	.box {
	    background: white;
	    font-family: 'Source Sans Pro', sans-serif;
	    font-weight: 400;
	    text-align: center;
	    width: 120px;
	    height: 30px;
	    float: left;
	    margin-top: 20px;
	    margin-left: 40px;
		}

	.box-selected {
		background: black;
		color: white;
	    font-family: 'Source Sans Pro', sans-serif;
	    font-weight: 400;
	    text-align: center;
	    width: 120px;
	    height: 30px;
	    float: left;
	    margin-top: 20px;
	    margin-left: 40px;
		}

	.box:hover {
		background: black;
		color: white;
	}
</style>

<!-- header + nav -->
<body>
	<h1>AIRPORTS AROUND THE WORLD</h1>
	<div class="line-separator"></div>
	
	<div id="nav">
    	<div class="box"><h3>north america</h3></div>
    	<div class="box"><h3>south america</h3></div>
    	<div class="box"><h3>africa</h3></div>
    	<div class="box"><h3>asia</h3></div>
    	<div class="box-selected"><h3>europe</h3></div>
    	<div class="box"><h3>antarctica</h3></div>
    	<div class="box"><h3>oceania</h3></div>
	</div>
</body>


<!-- data -->
<svg width=1500 height=800></svg>

<script>

var ugh = [];

var raw_data = [];

var nestedData = [];

d3.json("data/world.json", function(data){
	console.log(data);
	var nestedData = topojson.feature(data, data.objects.ne_10m_admin_0_countries);
	var projection = d3.geo.mercator();
	var path = d3.geo.path().projection(projection);

	console.log(nestedData);
});

d3.csv("https://juliawilson.github.io/data/flightData.csv", function (error, data){
		
	nestedData = d3.nest()
		.key(function(d) {
			return d.continent;
		})	

		.key(function(d){
			return d.country;
		})

		.rollup(function(leaves){
			return leaves.length;
		})

		.entries(data);

	nestedData = nestedData.filter(function(d){
		return d.key == "Europe";
	});

	draw(nestedData);

	console.log(nestedData);

});

// need every airport per country in a numeric value to create circles

function draw(data) {

	console.log(nestedData)
	var c = d3.select("svg").selectAll("circle")
		.data(data[0].values, function(d){
			return d.key;
		});

		c.enter().append("circle")
			.attr("fill", "#404041")
			.attr("r", "2")
			.attr("cy", function(d, i){
				return 100 * ((i % 3) + 1);
			})
			.attr("cx", function(d, i){
				return 50 * ((i % 23) + 1);
			});

	var scale = d3.scale.linear()
			.domain([0, 250])
			.range([4, 30]);

		c.transition().duration(500)
			.attr("r", function(d){
				console.log(d.values)
				return scale(d.values);

			});

		c.exit().remove();

}





</script>